<p id="notice"><%= notice %></p>
<% if !user_signed_in? %>
  <p><%= button_to "Creatodonのアカウントでログイン", user_mastodon_omniauth_authorize_path %></p>
<% end %>
<% if user_signed_in? %>
  <p><%= button_to '作品投稿', {:action => "new"}, {:method => :get} %></p>
<% end %>

<%= javascript_pack_tag 'macy' %>

<h1>Creatodon Folio 作品一覧</h1>

<div id="macy-container">
  <% @books.each do |book| %>
    <div><%= link_to(image_tag(book.picture_url, style: 'height:100%;width:100%;'), book_path(book)) %></div>
  <% end %>
  </div>
</div>

<script>
  var macy = Macy({
      container: '#macy-container',
      trueOrder: false,
      waitForImages: false,
      columns: 6,
      margin: {
          x: 10,
          y: 5,
      },
      breakAt: {
          1200: 5,
          940: 3,
          520: 2,
          400: 1
      }
  });
</script>

<p><%= paginate @books %></p>
